<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zor Bulmaca 💖</title>
<style>
body { 
  font-family: Arial,sans-serif; 
  text-align:center; 
  margin:0; 
  padding:0; 
  background:#c8a2c8; 
  transition:background 1s ease-in-out; 
  background-size:cover; 
  background-position:center;
}
h1 { 
  color:#fff; 
  margin-top:20px; 
  font-size:7vw; 
  text-shadow:1px 1px 2px #a64ca6;
}
p { 
  color:#fff; 
  font-size:5vw; 
  margin:10px;
}
#puzzle { 
  display:grid; 
  grid-template-columns:repeat(4, minmax(60px,1fr)); 
  gap:10px; 
  justify-content:center; 
  margin:20px auto; 
  width:90vw; 
  max-width:420px;
}
.tile { 
  aspect-ratio:1/1; 
  background:#e0b3e0; 
  display:flex; 
  justify-content:center; 
  align-items:center; 
  font-size:9vw; 
  color:white; 
  cursor:pointer; 
  border-radius:12px; 
  transition:0.3s; 
  box-shadow:0 4px 6px rgba(0,0,0,0.2);
}
.tile img { 
  width:100%; 
  height:100%; 
  border-radius:12px; 
  display:none;
}
.hidden { 
  background:#d8a2d8; 
  color:#d8a2d8; 
  cursor:pointer;
}
#message { 
  margin-top:15px; 
  font-size:8vw; 
  color:#fff; 
  font-weight:bold; 
  text-shadow:0 0 10px #ff66b2,0 0 20px #ff99cc; 
  opacity:0; 
  animation:none;
}
@keyframes blink {
  0% {opacity:1;text-shadow:0 0 20px #ff66b2,0 0 40px #ff99cc,0 0 60px #fff;}
  50% {opacity:0.3;text-shadow:0 0 10px #ff66b2;}
  100% {opacity:1;text-shadow:0 0 20px #ff66b2,0 0 40px #ff99cc,0 0 60px #fff;}
}
.blink { animation:blink 1.2s infinite; }
</style>
</head>
<body>

<h1>Bebeğime Bulmaca 💖</h1>
<p>Eşlerini bulabilecek misin? 😍</p>
<div id="puzzle"></div>
<div id="message"></div>

<script>
const puzzle=document.getElementById('puzzle');
const message=document.getElementById('message');

// 4x4 bulmaca: sen ve kızın fotoğrafı bir eş
const values=[
  '💌','💌','🌹','🌹','💖','💖','⭐','⭐',
  '🌙','🌙','🎶','🎶','ben.jpg','kiz.jpg','🐻','🐻'
];

let tiles=[];
let firstTile=null;
let lock=false;

// Shuffle
function shuffle(array){
  for(let i=array.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [array[i],array[j]]=[array[j],array[i]];
  }
}

// Kutucukları oluştur
shuffle(values);
for(let val of values){
  const tile=document.createElement('div');
  tile.className='tile hidden';
  tile.dataset.value=val;

  if(val.endsWith('.jpg')){
    const img=document.createElement('img');
    img.src=val; // aynı klasördeki fotoğraf
    tile.appendChild(img);
  } else {
    tile.textContent=val;
  }

  tile.addEventListener('click',flipTile);
  puzzle.appendChild(tile);
  tiles.push(tile);
}

// Başlangıçta tüm kutucukları göster ve 2 sn sonra gizle
tiles.forEach(t=>{
  const img=t.querySelector('img');
  if(img) img.style.display='block';
  else t.textContent=t.dataset.value;
  t.classList.remove('hidden');
});

setTimeout(()=>{
  tiles.forEach(t=>{
    const img=t.querySelector('img');
    if(img) img.style.display='none';
    else t.textContent='';
    t.classList.add('hidden');
  });
},2000);

function flipTile(){
  if(lock || !this.classList.contains('hidden')) return;

  const img=this.querySelector('img');
  if(img) img.style.display='block';
  else this.textContent=this.dataset.value;

  this.classList.remove('hidden');

  if(!firstTile){ firstTile=this; return; }

  lock=true;
  setTimeout(()=>{
    let match=false;
    const photoPair=['ben.jpg','kiz.jpg'];

    if(firstTile.dataset.value===this.dataset.value || 
       (photoPair.includes(firstTile.dataset.value) && photoPair.includes(this.dataset.value))) match=true;

    if(!match){
      [firstTile,this].forEach(t=>{
        const i=t.querySelector('img');
        if(i) i.style.display='none';
        else t.textContent='';
        t.classList.add('hidden');
      });
    } else{
      firstTile.style.background='#ff66b2';
      this.style.background='#ff66b2';
    }

    firstTile=null;
    lock=false;

    // Oyun bitti mi?
    if(tiles.every(t=>{
      const i=t.querySelector('img');
      if(i) return i.style.display==='block';
      return !t.classList.contains('hidden');
    })){
      puzzle.style.display='none';
      message.textContent="🎉 AFFERİN ÖMRÜME SENİ ÇOK ÇOK SEVİYORUM SEN BENİM EŞİMSİN 💖";
      message.classList.add('blink');
      message.style.opacity='1';
      document.body.style.backgroundImage="url('OMRUM.jpg')";
    }
  },800);
}
</script>

</body>
</html>
